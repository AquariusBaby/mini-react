{"ast":null,"code":"/* eslint-disable no-useless-constructor */\nclass Component {\n  constructor(props, context, updater) {\n    this.props = props;\n    this.context = context;\n    this.updater = updater;\n    this.refs = {};\n  }\n  /**\n   * \n   * @param {Object | Function} params \n   * @param {Function} callback \n   */\n\n\n  setState(params, callback) {// TODO\n  }\n\n  forceUpdate(callback) {// TODO\n  }\n\n}\n\nComponent.isReactComponent = {};\n\nfunction createElement(type, props, ...children) {\n  if (props) {\n    delete props.__self;\n    delete props.__source;\n  }\n\n  let defaultProps = {};\n\n  if (type && type.defaultProps) {\n    defaultProps = type.defaultProps;\n  }\n\n  return {\n    type,\n    props: { ...defaultProps,\n      ...props,\n      children: children.map(child => {\n        return typeof child === 'object' ? child : _createTextElement(child);\n      })\n    }\n  };\n}\n\nfunction _createTextElement(text) {\n  return {\n    type: \"TEXT_ELEMENT\",\n    props: {\n      // nodeText: text,\n      nodeValue: text,\n      children: []\n    }\n  };\n}\n\nexport default {\n  Component,\n  createElement\n};","map":{"version":3,"sources":["/Users/caipeng/coding/React/mini-react/src/client/react.js"],"names":["Component","constructor","props","context","updater","refs","setState","params","callback","forceUpdate","isReactComponent","createElement","type","children","__self","__source","defaultProps","map","child","_createTextElement","text","nodeValue"],"mappings":"AAAA;AACA,MAAMA,SAAN,CAAgB;AAEZC,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiBC,OAAjB,EAA0B;AACjC,SAAKF,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,IAAL,GAAY,EAAZ;AACH;AAED;;;;;;;AAKAC,EAAAA,QAAQ,CAACC,MAAD,EAASC,QAAT,EAAmB,CACvB;AACH;;AAEDC,EAAAA,WAAW,CAACD,QAAD,EAAW,CAClB;AACH;;AApBW;;AAAVR,S,CACKU,gB,GAAmB,E;;AAsB9B,SAASC,aAAT,CAAuBC,IAAvB,EAA6BV,KAA7B,EAAoC,GAAGW,QAAvC,EAAiD;AAC7C,MAAIX,KAAJ,EAAW;AACP,WAAOA,KAAK,CAACY,MAAb;AACA,WAAOZ,KAAK,CAACa,QAAb;AACH;;AAED,MAAIC,YAAY,GAAG,EAAnB;;AACA,MAAIJ,IAAI,IAAIA,IAAI,CAACI,YAAjB,EAA+B;AAC3BA,IAAAA,YAAY,GAAGJ,IAAI,CAACI,YAApB;AACH;;AAED,SAAO;AACHJ,IAAAA,IADG;AAEHV,IAAAA,KAAK,EAAE,EACH,GAAGc,YADA;AAEH,SAAGd,KAFA;AAGHW,MAAAA,QAAQ,EAAEA,QAAQ,CAACI,GAAT,CAAaC,KAAK,IAAI;AAC5B,eAAO,OAAOA,KAAP,KAAiB,QAAjB,GACHA,KADG,GAEHC,kBAAkB,CAACD,KAAD,CAFtB;AAGH,OAJS;AAHP;AAFJ,GAAP;AAYH;;AAED,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAC9B,SAAO;AACHR,IAAAA,IAAI,EAAE,cADH;AAEHV,IAAAA,KAAK,EAAE;AACH;AACAmB,MAAAA,SAAS,EAAED,IAFR;AAGHP,MAAAA,QAAQ,EAAE;AAHP;AAFJ,GAAP;AAQH;;AAED,eAAe;AACXb,EAAAA,SADW;AAEXW,EAAAA;AAFW,CAAf","sourcesContent":["/* eslint-disable no-useless-constructor */\nclass Component {\n    static isReactComponent = {}\n    constructor(props, context, updater) {\n        this.props = props;\n        this.context = context;\n        this.updater = updater;\n        this.refs = {}\n    }\n\n    /**\n     * \n     * @param {Object | Function} params \n     * @param {Function} callback \n     */\n    setState(params, callback) {\n        // TODO\n    }\n\n    forceUpdate(callback) {\n        // TODO\n    }\n}\n\nfunction createElement(type, props, ...children) {\n    if (props) {\n        delete props.__self;\n        delete props.__source;\n    }\n\n    let defaultProps = {};\n    if (type && type.defaultProps) {\n        defaultProps = type.defaultProps;\n    }\n\n    return {\n        type,\n        props: {\n            ...defaultProps,\n            ...props,\n            children: children.map(child => {\n                return typeof child === 'object' ? \n                    child :\n                    _createTextElement(child)\n            })\n        }\n    }\n}\n\nfunction _createTextElement(text) {\n    return {\n        type: \"TEXT_ELEMENT\",\n        props: {\n            // nodeText: text,\n            nodeValue: text,\n            children: []\n        }\n    }\n}\n\nexport default {\n    Component,\n    createElement\n}"]},"metadata":{},"sourceType":"module"}